(this["webpackJsonptransport-demo"]=this["webpackJsonptransport-demo"]||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(2),i=n.n(a),o=n(3),s=n(4),j=n(7),b=n.n(j),l=n(8),h=n(5),u=n(19),O=(n(14),n(0)),d=function(e){return e.loading?Object(O.jsx)("h1",{children:"loading..."}):Object(O.jsx)(O.Fragment,{children:" "})};function p(){var e=Object(c.useState)(!1),t=Object(h.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)({hight:!1}),i=Object(h.a)(a,2),j=i[0],p=i[1],x=Object(c.useState)([]),f=Object(h.a)(x,2),g=f[0],m=f[1],y=function(){var e=Object(l.a)(b.a.mark((function e(){var t,n,c,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.prev=1,t="",console.log(j),j.metro&&(t+="&filterMOTType=2"),j.train&&(t+="&filterMOTType=1"),j.lightRail&&(t+="&filterMOTType=4"),j.bus&&(t+="&filterMOTType=5"),j.ferry&&(t+="&filterMOTType=9"),j.filterDateValid&&(t+="&filterDateValid="+j.filterDateValid),console.log("/v1/tp/add_info?outputFormat=rapidJSON&filterPublicationStatus=current"+t),e.next=13,fetch("/v1/tp/add_info?outputFormat=rapidJSON&filterPublicationStatus=current"+t,{headers:{Authorization:"apikey rW87skJDoE4rEqwfB0HvIMeYTO2RdbfBYv6w","Content-Type":"application/json"}});case 13:return n=e.sent,e.next=16,n.text().then((function(e){return JSON.parse(e)}));case 16:c=e.sent,a=c.infos.current.filter((function(e){return!!j.hight&&"hight"===e.priority||!!j.normal&&"normal"===e.priority||!!j.low&&"low"===e.priority})),m(a),r(!1),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(1),r(!1),console.log(e.t0);case 26:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){y()}),[j]);function k(e){var t=e.target.name,n=e.target.checked;p((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(o.a)({},t,n))}))}return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"block-left",children:[Object(O.jsx)("h5",{children:"Filters:"}),Object(O.jsx)("h5",{children:"Priority"}),Object(O.jsx)("input",{type:"checkbox",name:"hight",onChange:k,checked:j.hight}),"\xa0High",Object(O.jsx)("br",{}),Object(O.jsx)("input",{type:"checkbox",name:"normal",onChange:k,checked:j.normal}),"\xa0Normal",Object(O.jsx)("br",{}),Object(O.jsx)("input",{type:"checkbox",name:"low",onChange:k,checked:j.low}),"\xa0Low",Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("h5",{children:"Mode"}),Object(O.jsx)("input",{type:"checkbox",name:"metro",onChange:k,checked:j.metro}),"\xa0Metro",Object(O.jsx)("br",{}),Object(O.jsx)("input",{type:"checkbox",name:"train",onChange:k,checked:j.train}),"\xa0Train",Object(O.jsx)("br",{}),Object(O.jsx)("input",{type:"checkbox",name:"bus",onChange:k,checked:j.bus}),"\xa0Bus",Object(O.jsx)("br",{}),Object(O.jsx)("input",{type:"checkbox",name:"ferry",onChange:k,checked:j.ferry}),"\xa0Ferry",Object(O.jsx)("br",{}),Object(O.jsx)("input",{type:"checkbox",name:"lightRail",onChange:k,checked:j.lightRail}),"\xa0Light Rail"]}),Object(O.jsx)("div",{className:"block-midle",children:Object(O.jsx)(u.a,{onChange:function(e){var t=e.target.value,n=t.getMonth()+1,c=t.getDate(),r=[(c>9?"":"0")+c,(n>9?"":"0")+n,t.getFullYear()].join("-");p((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(o.a)({},"filterDateValid",r))}))}})}),Object(O.jsxs)("div",{className:"block-right",children:[Object(O.jsx)(d,{loading:n}),g.map((function(e){return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{dangerouslySetInnerHTML:{__html:e.subtitle}}),Object(O.jsx)("div",{dangerouslySetInnerHTML:{__html:e.content}}),Object(O.jsx)("br",{})]},e.id)}))]})]})}i.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(p,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.b51afb44.chunk.js.map